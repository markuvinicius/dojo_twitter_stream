FROM python:3.6
LABEL maintainer 'Marku Vinicius <markuvinicius@gmail.com>'

COPY ./ /app

WORKDIR /app

ARG CONSUMER_TOKEN
ARG CONSUMER_SECRET
ARG API_KEY
ARG API_SECRET
ARG APPLICATION_ENVIRONMENT
ARG AWS_ACCESS_KEY_ID
ARG AWS_SECRET_ACCESS_KEY

ENV TWITTER_CONSUMER_TOKEN ${CONSUMER_TOKEN}
ENV TWITTER_CONSUMER_SECRET ${CONSUMER_SECRET}
ENV TWITTER_API_KEY ${API_KEY}
ENV TWITTER_API_SECRET ${API_SECRET}
ENV APPLICATION_ENVIRONMENT ${APPLICATION_ENVIRONMENT}
ENV AWS_ACCESS_KEY_ID ${AWS_ACCESS_KEY_ID}
ENV AWS_SECRET_ACCESS_KEY ${AWS_SECRET_ACCESS_KEY}

ENTRYPOINT ["bash","./run_posts_data.sh"]